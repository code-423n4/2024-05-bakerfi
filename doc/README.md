# BakerFi Documentation 

## What is BakerFi ? 
BakerFi is a fully non-custodial application for managing leveraged staking strategies in various DeFi lending protocols to amplify generated by usersâ€™ assets (ETH, DAI, GHO, among others).

Traditional staking providers typically offer APYs around 3-4% on ETH. In contrast, BakerFiâ€™s strategy enables users to potentially more than double this yield to approximately 8% under current market conditions. ðŸ˜±

BakerFi stands out as a unique product with a distinctive approach to the market. It employs singular strategies designed to empower any regular user to execute sophisticated and well-orchestrated DeFi strategies, optimizing returns on their capital. The product achieves this through two key pillars.

Firstly, it simplifies the intricate configurations essential for deploying DeFi strategies, abstracting them from the end user and ensuring ease of use, even for those with limited experience in DeFi.

Orchestrating a lucrative DeFi strategy requires some deep research and some level of expertise to make it sucess.

Secondly, it deploys strategies using global configurations, controlled by protocol, thereby reducing risks for the users and minimizing their exposure to market turmoils and black-swan scenarios. ðŸ¦¢

Apart from the configurations used in the strategies, our DAO core team will conduct a deep analysis of the historical performance of the strategies and only introduce strategies with limited and low risk.

## Defi Legos integrated

**BakerFi** to operate, it integrates with several decentralized protocols to achieve its maximum efficiency, namely:

- Liquid staking providers such as Lido, Stader, Frax, or any other available staking service, that allow the possibility to achieve the standard yield for the user;
- Lending and borrowing providers such as Aave, Morpho, Compound, Ajna, and others allow recursive borrowing and staking within the protocol;
- DEXes and swapping services such as Uniswap, 1inch, Balancer,  Curve, and others to be able to swap between tokens, collateral, debt tokens, among others.

The modular smart contract design allows the system to easily integrate with DeFi protocols that provide liquidity and security to our staking strategies.

The Liquidation Protection is the protocol mechanism that ensures the redistribution of balances to prevent a lending liquidation on Aave, when the LTV goes beyond the rate limit defined by the DAO.

[BakerFi Architecture!](architecture.png "BakerFi Architecture")


## Contracts 


### Core Contracts 
* [contracts/core/Constants.sol](core/Constants.md) - Global Constants 
* [contracts/core/GovernableOwnable.sol](core/GovernableOwnable.md) - A Governed and Ownable Contract 
* [contracts/core/ServiceRegistry.sol](core/ServiceRegistry.md) -  Service registry that could be used resolve a service address with the name of the service.
* [contracts/core/Settings.sol](core/Settings.md) - The `Settings` contract is used to manage protocol settings.
* [contracts/core/Vault.sol](core/Vault.md) -  This is smart contract where the users deposit their ETH and receives a share of the pool <x>brETH. A share of the pool is an ERC-20 Token (transferable) and could be used to later to withdraw their owned amount of the pool that could contain (Assets + Yield ). This vault could use a customized IStrategy to deploy the capital and harvest an yield.
* [contracts/core/strategies/StrategyAAVEv3.sol](core/strategies/StrategyAAVEv3.md) - Leverage Strategy with AAVEv3 
* [contracts/core/strategies/StrategyAAVEv3Base.sol](core/strategies/StrategyAAVEv3Base.md) - Leverage Base Clawss Strategy with AAVEv3 
* [contracts/core/strategies/StrategyAAVEv3WSTETH.sol](core/strategies/StrategyAAVEv3WSTETH.md) - Leverage Base Clawss Strategy with AAVEv3 for Ethereum Main net
* [contracts/core/strategies/StrategyLeverageSettings.sol](core/strategies/StrategyLeverageSettings.md) - Leverage Settings for a strategy
* [contracts/core/flashloan/BalancerFlashLender.sol](core/flashloan/BalancerFlashLender.md) - This contract allows us
to have a static interface independent of the flash loan provider.
* [contracts/core/libraries/RebaseLibrary.sol](libraries/RebaseLibrary.sol) - Rebase Math Library

##  Governance Contracts 
* [contracts/core/governance/BKR.sol](core/governance/BKR.md) - $BKR BakerFi Token ERC-20  
* [contracts/core/governance/BakerFiGovernor.sol](/core/governance/BakerFiGovernor.md) - DAO Governor Contract 
* [contracts/core/governance/Timelock.sol](core/governance/Timelock.md) - Time Lock Class 

## Auxiliary Contracts 

* [contracts/core/hooks/UseAAVEv3.sol](core/hooks/UseAAVEv3.md) - AAVE Interaction Hook Contract
* [contracts/core/hooks/UseFlashLender.sol](core/hooks/UseFlashLender.md) - Flash Lender Hook 
* [contracts/core/hooks/UseIERC20.sol](core/hooks/UseIERC20.md) - IERC20 ERC-20 Hook 
* [contracts/core/hooks/UseLeverage.sol](core/hooks/UseLeverage.md) - Leverage Hoook
* [contracts/core/hooks/UseOracle.sol](core/hooks/UseOracle.md) - Oracle Hook 
* [contracts/core/hooks/UseSettings.sol](core/hooks/UseSettings.md) - Settings Hook 
* [contracts/core/hooks/UseStETH.sol](core/hooks/UseStETH.md) - stETH Hook 
* [contracts/core/hooks/UseStrategy.sol](core/hooks/UseStrategy.md) - Strategy Hook 
* [contracts/core/hooks/UseSwapper.sol](core/hooks/UseSwapper.md) - Uniswap v3 Swapper Hook 
* [contracts/core/hooks/UseUniQuoter.sol](core/hooks/UseUniQuoter.md) - Uniswap v3 Quoter Hook
* [contracts/core/hooks/UseWETH.sol](core/hooks/UseWETH.md) - WETH Hook 
* [contracts/core/hooks/UseWstETH.sol](core/hooks/UseWstETH.md) - wstETH Hpok 


### Interfaces

* contracts/core/interfaces/aave/v3/DataTypes.sol
* contracts/core/interfaces/aave/v3/DataTypes.sol
* contracts/core/interfaces/aave/v3/IPoolAddressesProvider.sol
* contracts/core/interfaces/aave/v3/IPoolV3.sol
* contracts/core/interfaces/balancer/IFlashLoan.sol
* contracts/core/interfaces/balancer/IProtocolFeesCollector.sol
* contracts/core/interfaces/balancer/IVault.sol
* contracts/core/interfaces/chainlink/IChainlinkAggregator.sol
* contracts/core/interfaces/core/IOracle.sol
* contracts/core/interfaces/core/IServiceRegistry.sol
* contracts/core/interfaces/core/ISettings.sol
* contracts/core/interfaces/core/IStrategy.sol
* contracts/core/interfaces/core/ISwapHandler.sol
* contracts/core/interfaces/core/IVault.sol
* contracts/core/interfaces/curve/ICurvePool.sol
* contracts/core/interfaces/lido/IStETH.sol
* contracts/core/interfaces/lido/IWStETH.sol
* contracts/core/interfaces/pyth/IPyth.sol
* contracts/core/interfaces/pyth/IPythEvents.sol
* contracts/core/interfaces/pyth/PythStructs.sol
* contracts/core/interfaces/tokens/IWETH.sol
* contracts/core/interfaces/uniswap/v3/IQuoterV2.sol
* contracts/core/interfaces/uniswap/v3/ISwapRouter.sol
* contracts/core/interfaces/uniswap/v3/IUniswapV3Pool.sol


